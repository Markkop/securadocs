# ============================================
# SecuraDocs - Environment Variables Example
# ============================================
# 
# Copie este arquivo para .env.local (desenvolvimento) ou .env (produção)
# e preencha com seus valores reais.
#
# IMPORTANTE: Nunca commite o arquivo .env com valores reais no git!
# ============================================

# ============================================
# 1. CONFIGURAÇÃO GERAL DA APLICAÇÃO
# ============================================

# Ambiente de execução
# Valores: development, production, test
NODE_ENV=development

# URL base da aplicação (usado para links de compartilhamento, callbacks, etc.)
# Desenvolvimento: http://localhost:3000
# Produção: https://docs.seu-dominio.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Domínio base (usado no Docker Compose para configurar serviços)
DOMAIN=localhost

# ============================================
# 2. BANCO DE DADOS (PostgreSQL)
# ============================================

# Connection string do PostgreSQL
# 
# Docker Compose (recomendado):
# - Use: postgresql://securdocs:${SECURDOCS_DB_PASSWORD}@postgres:5432/securdocs
# - Ou para acesso externo: postgresql://securdocs:password@localhost:5432/securdocs
#
# Documentação PostgreSQL: https://www.postgresql.org/docs/
DATABASE_URL=postgresql://securdocs:securdocs_dev_password@postgres:5432/securdocs

# Senha master do PostgreSQL
# Use uma senha forte em produção!
POSTGRES_PASSWORD=postgres_dev_password

# Senha do usuário securdocs no PostgreSQL
SECURDOCS_DB_PASSWORD=securdocs_dev_password

# ============================================
# 3. AUTENTICAÇÃO (Better Auth)
# ============================================

# Secret usado para assinar cookies e tokens de sessão
# 
# Gere um secret seguro com:
#   openssl rand -base64 32
# 
# Ou use um gerador online: https://generate-secret.vercel.app/32
#
# IMPORTANTE: Use um valor diferente para cada ambiente (dev, staging, prod)
# Documentação Better Auth: https://www.better-auth.com/docs/configuration
AUTH_SECRET=dev_secret_change_in_production_use_openssl_rand_base64_32

# ============================================
# 4. NEXTCLOUD (Storage)
# ============================================

# URL do Nextcloud
# Docker Compose: http://nextcloud
# Produção: https://cloud.seu-dominio.com
NEXTCLOUD_URL=http://nextcloud

# Usuário técnico do Nextcloud para API
# Crie este usuário no Nextcloud após a instalação
NEXTCLOUD_USER=securadocs

# App password do Nextcloud
# Gere em: Nextcloud > Settings > Security > Devices & sessions > Create new app password
# IMPORTANTE: Copie a senha gerada pois ela só é mostrada uma vez!
NEXTCLOUD_APP_PASSWORD=

# Caminho WebDAV base (geralmente não precisa alterar)
NEXTCLOUD_WEBDAV_PATH=/remote.php/dav/files/securadocs

# Diretório base no Nextcloud onde os arquivos serão armazenados
NEXTCLOUD_BASE_DIR=/SecuraDocs

# ============================================
# 5. NEXTCLOUD DOCKER (Setup Inicial)
# ============================================

# Senha do banco Nextcloud
NEXTCLOUD_DB_PASSWORD=nextcloud_dev_password

# Senha do admin do Nextcloud
NEXTCLOUD_ADMIN_PASSWORD=admin123

# ============================================
# 6. VARIÁVEIS OPCIONAIS
# ============================================

# Desabilitar telemetria do Next.js (recomendado)
NEXT_TELEMETRY_DISABLED=1

# Porta do servidor Next.js (padrão: 3000)
# Geralmente não precisa ser configurada
# PORT=3000

# ============================================
# NOTAS ADICIONAIS
# ============================================
#
# Para desenvolvimento local:
# 1. Copie este arquivo: cp .env.example .env
# 2. Inicie os serviços: docker compose up -d
# 3. Acesse o Nextcloud (http://localhost:8080) e crie o usuário técnico
# 4. Gere um app password no Nextcloud e configure NEXTCLOUD_APP_PASSWORD
# 5. Execute as migrations: docker compose exec app pnpm db:push
#
# Para produção:
# 1. Atualize DOMAIN, NEXT_PUBLIC_APP_URL com seu domínio
# 2. Configure senhas fortes para todas as variáveis
# 3. Gere um AUTH_SECRET seguro: openssl rand -base64 32
# 4. Configure SSL/TLS (ver MIGRATION_SELF_HOSTED.md)
#
# Verifique a documentação:
# - TECH_SPECS.md para detalhes técnicos
# - MIGRATION_SELF_HOSTED.md para guia de deploy
# - PLAN.md para roadmap de desenvolvimento
#
